#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////// VARIABLES //////////////////////////////////////////////////////////////////////////
#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CC = g++
CL = clean
OBJ_DIR = obj
MAIN_OBJ = adaptative.cpp
EXEC = $(OBJ_DIR)/adaptative
ARMADILLO_FLAGS = -O2 -larmadillo

#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////////////////////////////////////////// TARGETS ///////////////////////////////////////////////////////////////////////////
#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

all: $(EXEC)

$(EXEC): clean obj $(MAIN_OBJ)
	@echo '-------------------------------------------------------------------------'
	@echo ' => Compiling target "$(@F)"'
	$(CC) $(MAIN_OBJ) -o $@ $(ARMADILLO_FLAGS)
	@echo ' => "$(@F)" compiled in the directory "$(@D)"'
	@echo ' => Enter the directory "$(@D)" by typing: cd $(@D)'
	@echo ' => Execute the program by typing: ./$(@F) -t tol -a [pto. a] -b [pto. b] -I [trap/sim3/sim8]' 
	@echo ' => For any problem check the README file'
	@echo '-------------------------------------------------------------------------'
	
#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

obj: 
	@echo '-------------------------------------------------------------------------'
	@echo ' => Creating direcotry "$@"'
	mkdir $(OBJ_DIR)
	@echo '-------------------------------------------------------------------------'

#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

clean:
	@echo '-------------------------------------------------------------------------'
	@echo ' => Deleting directory "$(OBJ_DIR)" compilation contents'
	rm -rf $(OBJ_DIR)
	@echo '-------------------------------------------------------------------------'


#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////