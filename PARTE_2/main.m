%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
%/////////////////////////////////////////////////////////////// PART 2 ////////////////////////////////////////////////////////////%
%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%

addpath(genpath('..\'));

%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
% GRAPHS ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
% Definimos un vector con las Te de prueba con las que se generan los
% graficos correspondientes, que corresponde a la Temperatura Externa
Te_vector = [20 40 80 160];

% Ademas definimos un "n" numero de superficies, en este caso la Cantidad
% de Intervalos
n = 100;

for i = 1: 4
    
    Te = Te_vector (i);
    X = generateCylinder (Te, n);
    
    figure(i);
    cylinder(X);
    figureName = strcat ('graphs/', 'Te=', int2str(Te), '.fig');
    savefig(figureName);

end 

disp('GRAFICOS HECHO!')

%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
% VIDEO ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
% A continuacion se genera el video correspondiente a la variacion continua
% de la Temperatura Externa que oscila entre los 20 y 160 grados.

framesCounter = 1;

for Te = 20: 160

    X = generateCylinder (Te, n);
    cylinder(X);
    my_frame = getframe(gcf);
    movieVector(framesCounter) = my_frame;
    pause(0.1);
    framesCounter = framesCounter + 1;
    
end

myWriter = VideoWriter('videos/increaseTe.avi','uncompressed AVI');
myWriter.FrameRate = 5;
open(myWriter);
writeVideo(myWriter, movieVector);
close(myWriter);

disp('VIDEO HECHO!')

%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%
%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////%